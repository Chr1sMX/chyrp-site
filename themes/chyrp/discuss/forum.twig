{% extends "layouts/discuss.twig" %}

{% block content %}
<h1>$forum.name</h1>
<h2>Topics</h2>
<ul>
    {% paginate topic in 25 forum.topics as topics %}
    <li>
        <a href="$topic.url">${ topic.title | escape }</a> by $topic.user.login
    </li>
    {% else %}
    <li>(none)</li>
    {% endpaginate %}
</ul>

${ topics.next_link }
${ topics.prev_link }

<br />
<br />
{% if visitor.group.can("add_topic") %}
<h3>New Topic</h3>
<form action="{% url "add_topic" %}" method="post" accept-charset="utf-8">
    <label for="title">Title</label>
    <input type="text" name="title" value="" id="title" />
    
    <label for="title">Description</label>
    <textarea name="description" rows="8" cols="100%"></textarea>

    <p><input type="submit" value="Continue &rarr;"></p>

    <input type="hidden" name="forum_id" value="$forum.id" id="topic_id" />
</form>
{% endif %}
{% endblock %}
